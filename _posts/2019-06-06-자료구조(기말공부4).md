---
layout: post
title: (자료구조)기말공부(4)_Prioirty_ Queue
categories: [data]
excerpt: ' '
comments: false
share: false
tags: data
date: 2019-06-06
---

## Prioirty Queue

### 문제 정리

- entry클래스 implements 받아서 MyEntry클래스 구현
- Sorted List를 기반으로 MyPQ클래스 완성

### 생각해봐야 할 점

- priority Queue는 내장 인터페이스 제공 `java.util.PriorityQueue`
- insert 할 때, 어떤 순서로? 넣어줄거야 ? -> 실습에서는 정렬을 한 채로 순서대로 Queue에 저장이 되게끔.
- remove 할 때는 어떻게 ? -> list의 가장 처음 삭제
- min()은 어떻게 찾지 ? -> list의 가장 처음 꺼내기

### 알게된 것

- size() 함수 작성시, 내부적으로 totalEntry를 작성할 필요 없이, ArrayList의 size() method 활용하기

- insert 함수 원리

  - MyEntry객체 생성
  - 위치로 삼을 인덱스 변수 선언(int where) // 실습에서는 가장 작은게 가장 앞으로
  - for문을 돌면서. 몇 번째 위치인지 계싼
  - list에 추가하기

- `java.awt.Point`를 import하면 좌표를 저장할 수 있는 Point클래스 사용 가능
- Math.sqrt() -> 평면상의 거리 구하는데 사용된다.
- IntComparator안의 method는 compare하나만 넣어놔야 한다. 즉 새로 만들 **IntComparator2는 새로운 클래스**로 정의해야한다.

```java
	public MyEntry insert(Object k, Object v) {

		MyEntry newEntry = new MyEntry(k,v);

		int where = 0;
		int len = list.size();

		for(int i = 0 ; i < len; i ++) {
			MyEntry temp = (MyEntry)list.get(i);
			if(this.cpt.compare(k, temp.getKey())> 0) {
				where++;
			}
		}

		this.list.add(where, newEntry);
		return newEntry;
	}
```

## code

### MyEntry.java

```java
public class MyEntry implements Entry{
	private Object key;
	private Object value;

	public MyEntry(){
		this.key = null;
		this.value = null;
	}
	public MyEntry(Object k, Object v) {
		this.key = k;
		this.value = v;
	}

	@Override
	public void setKey(Object k) {
		this.key = k;
	}

	@Override
	public void setValue(Object v) {
		this.value = v;

	}

	@Override
	public Object getKey() {
		// TODO Auto-generated method stub
		return this.key;
	}

	@Override
	public Object getValue() {
		// TODO Auto-generated method stub
		return this.value;
	}

}

```

### IntComparator.java

```java
import java.util.Comparator;

public class IntComparator implements Comparator {
	public int compare(Object o1, Object o2) {
		// compare method만 구현
		return (int)o1 - (int)o2;
	}
}

```

### Main.java (실습1)

```java
public class Main {

	public static void main(String[] args) {
		IntComparator c = new IntComparator();
		MyPQ pq = new MyPQ(c);

		pq.insert(30, null);
		pq.insert(10, null);
		pq.insert(20, null);

		System.out.println((Integer)pq.removeMin().getKey());
		System.out.println((Integer)pq.removeMin().getKey());
		System.out.println((Integer)pq.removeMin().getKey());
	}

}

```

## 실습2

### Main.java

```java
package prioirtyQueue;

import java.awt.Point;
public class Main {

	public static void main(String[] args) {

		IntComparator c2 = new IntComparator();
		MyPQ pq2 = new MyPQ(c2);

		Point p1 = new Point(5, 4);
		pq2.insert((int) Math.sqrt(Math.pow(p1.getX(), 2) + Math.pow(p1.getY(), 2)), "a (5,4)");
		Point p2 = new Point(2, 7);
		pq2.insert((int) Math.sqrt(Math.pow(p2.getX(), 2) + Math.pow(p2.getY(), 2)), "b (2,7)");
		Point p3 = new Point(9, 5);
		pq2.insert((int) Math.sqrt(Math.pow(p3.getX(), 2) + Math.pow(p3.getY(), 2)), "c (9,5)");
		Point p4 = new Point(3, 1);
		pq2.insert((int) Math.sqrt(Math.pow(p4.getX(), 2) + Math.pow(p4.getY(), 2)), "d (3,1)");
		Point p5 = new Point(7, 2);
		pq2.insert((int) Math.sqrt(Math.pow(p5.getX(), 2) + Math.pow(p5.getY(), 2)), "e (7,2)");
		Point p6 = new Point(9, 7);
		pq2.insert((int) Math.sqrt(Math.pow(p6.getX(), 2) + Math.pow(p6.getY(), 2)), "f (9,7)");
		Point p7 = new Point(1, 4);
		pq2.insert((int) Math.sqrt(Math.pow(p7.getX(), 2) + Math.pow(p7.getY(), 2)), "g (1,4)");
		Point p8 = new Point(4, 3);
		pq2.insert((int) Math.sqrt(Math.pow(p8.getX(), 2) + Math.pow(p8.getY(), 2)), "h (4,3)");
		Point p9 = new Point(8, 2);
		pq2.insert((int) Math.sqrt(Math.pow(p9.getX(), 2) + Math.pow(p9.getY(), 2)), "i (8,2)");
		Point p10 = new Point(4, 8);
		pq2.insert((int) Math.sqrt(Math.pow(p10.getX(), 2) + Math.pow(p10.getY(), 2)), "j (4,8)");

		int len = pq2.size();
		for(int i = 0 ; i < len; i++) {
			System.out.println(pq2.removeMin().getValue());
		}
		System.out.println("-----------------------------------");

		IntComparator2 c3 = new IntComparator2();
		MyPQ pq3 = new MyPQ(c3);
		pq3.insert((int) Math.sqrt(Math.pow(p1.getX(), 2) + Math.pow(p1.getY(), 2)), "a (5,4)");
		pq3.insert((int) Math.sqrt(Math.pow(p2.getX(), 2) + Math.pow(p2.getY(), 2)), "b (2,7)");
		pq3.insert((int) Math.sqrt(Math.pow(p3.getX(), 2) + Math.pow(p3.getY(), 2)), "c (9,5)");
		pq3.insert((int) Math.sqrt(Math.pow(p4.getX(), 2) + Math.pow(p4.getY(), 2)), "d (3,1)");
		pq3.insert((int) Math.sqrt(Math.pow(p5.getX(), 2) + Math.pow(p5.getY(), 2)), "e (7,2)");
		pq3.insert((int) Math.sqrt(Math.pow(p6.getX(), 2) + Math.pow(p6.getY(), 2)), "f (9,7)");
		pq3.insert((int) Math.sqrt(Math.pow(p7.getX(), 2) + Math.pow(p7.getY(), 2)), "g (1,4)");
		pq3.insert((int) Math.sqrt(Math.pow(p8.getX(), 2) + Math.pow(p8.getY(), 2)), "h (4,3)");
		pq3.insert((int) Math.sqrt(Math.pow(p9.getX(), 2) + Math.pow(p9.getY(), 2)), "i (8,2)");
		pq3.insert((int) Math.sqrt(Math.pow(p10.getX(), 2) + Math.pow(p10.getY(), 2)), "j (4,8)");

		len = pq3.size();

		for (int i = 0; i < len; i++) {
			System.out.println(pq3.removeMin().getValue());
		}


	}

}

```

---

하영국 교수님 자바 수업
