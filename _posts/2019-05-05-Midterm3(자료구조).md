---
layout: post
title: (자료구조)Midterm3 복습
categories: [data]
excerpt: ' '
comments: false
share: false
tags: data
date: 2019-05-05
---

## 자료구조 MidTerm 3_1번 문제 복습

- 트리 구조 계산 문제

## 전체 코드

### MyNode.java

```java
package mid3_1;

import java.util.ArrayList;

public class MyNode {
	private MyNode parent;
	private ArrayList children;
	private int cost;
	private Object element;

	public MyNode(MyNode parent, int cost, Object element) {
		this.parent = parent;
		this.cost = cost;
		this.element = element;
		this.children = new ArrayList();
	}

	public MyNode getParent() {
		return parent;
	}

	public void setParent(MyNode parent) {
		this.parent = parent;
	}

	public ArrayList getChildren() {
		return children;
	}

	public void setChildren(ArrayList children) {
		this.children = children;
	}

	public int getCost() {
		return cost;
	}

	public void setCost(int cost) {
		this.cost = cost;
	}

	public Object getElement() {
		return element;
	}

	public void setElement(Object element) {
		this.element = element;
	}
}

```

### MyTree.java

```java
package mid3_1;

public class MyTree {
	private MyNode root;
	public MyTree() {
		this.root = null;
	}
	public MyTree(int cost, Object element) {
		this.root = new MyNode(null, cost, element);
	}

	public MyNode root() {
		return this.root;
	}

	public MyNode addChild(MyNode v, int cost, Object element) {
		MyNode newNode = new MyNode(v, cost, element);
		v.getChildren().add(newNode);
		return newNode;
	}
}
```

### Main.java

```java
package mid3_1;
import java.util.Stack;


public class Main {
	private int min;
	private int max;
	private int total;
	private Stack minStack;
	private Stack maxStack;
	private Stack minCrossStack;
	private Stack maxCrossStack;

	public static void main(String[] args) {
		MyTree tree = new MyTree(0, null);

		MyNode dep1 = tree.addChild(tree.root(), 20, null);
		MyNode dep2 = tree.addChild(tree.root(), 10, null);
		MyNode dep3 = tree.addChild(tree.root(), 30, null);
		MyNode dep4 = tree.addChild(tree.root(), 10, null);
		MyNode dep5 = tree.addChild(tree.root(), 20, null);

		MyNode dep11 = tree.addChild(dep1, 20, 'P');
		MyNode dep12 = tree.addChild(dep1, 10, null);
		MyNode dep13 = tree.addChild(dep1, 10, null);
		MyNode dep121 = tree.addChild(dep12, 10, 'A');
		MyNode dep122 = tree.addChild(dep12, 10, 'B');
		MyNode dep131 = tree.addChild(dep13, 10, null);
		MyNode dep132 = tree.addChild(dep13, 30, 'D');
		MyNode dep1311 = tree.addChild(dep131, 20, 'C');

		MyNode dep21 = tree.addChild(dep2, 10, null);
		MyNode dep211 = tree.addChild(dep21, 30, 'E');
		MyNode dep212 = tree.addChild(dep21, 30, 'F');
		MyNode dep213 = tree.addChild(dep21, 20, 'G');

		MyNode dep31 = tree.addChild(dep3, 30, 'H');

		MyNode dep41 = tree.addChild(dep4, 30, 'I');
		MyNode dep42 = tree.addChild(dep4, 20, null);
		MyNode dep421 = tree.addChild(dep42, 30, 'J');

		MyNode dep51 = tree.addChild(dep5, 20, null);
		MyNode dep52 = tree.addChild(dep5, 30, 'M');
		MyNode dep53 = tree.addChild(dep5, 30, null);
		MyNode dep54 = tree.addChild(dep5, 20, 'O');
		MyNode dep511 = tree.addChild(dep51, 30, 'K');
		MyNode dep512 = tree.addChild(dep51, 20, 'L');
		MyNode dep531 = tree.addChild(dep53, 10, 'N');
		Main m = new Main();
		m.minStack = new Stack();
		m.maxStack = new Stack();
		m.calculateMaxMin(tree.root(), 0);
		System.out.println("Max total cost: " + m.maxStack.toString());
		System.out.println("Min total cost: " + m.minStack.toString());
		m.min = 0;
		m.max = 0;
		m.minCrossStack = new Stack();
		m.maxCrossStack = new Stack();
		m.crossMaxMin(tree.root(), 0);
		System.out.println("Max number of junctions: "+ m.maxCrossStack.toString());
		System.out.println("Min number of junctions: "+ m.minCrossStack.toString());
		m.total = 0;
		m.calculateTotal(tree.root(), 0);
		System.out.println("Total cost to the destination : " + m.total);
	}

	public void calculateMaxMin(MyNode v, int size) {
		size += v.getCost();
		if(v.getChildren().size() > 0) {
			for(int i=0;i<v.getChildren().size();i++) {
				calculateMaxMin((MyNode)v.getChildren().get(i), size);
			}
		}
		else {
			if(size < min || min == 0) {
				minStack.clear();
				minStack.add(v.getElement());
				min = size;
			}
			else if(size == min) {
				minStack.add(v.getElement());
			}
			if(size > max) {
				maxStack.clear();
				maxStack.add(v.getElement());
				max = size;
			}
			else if(size == max) {
				maxStack.add(v.getElement());
			}
		}
	}

	public void crossMaxMin(MyNode v, int size) {
		size++;
		if(v.getChildren().size() > 0) {
			for(int i=0;i<v.getChildren().size();i++) {
				crossMaxMin((MyNode)v.getChildren().get(i), size);
			}
		}
		else {
			if(size < min || min == 0) {
				minCrossStack.clear();
				minCrossStack.add(v.getElement());
				min = size;
			}
			else if(size == min) {
				minCrossStack.add(v.getElement());
			}
			if(size > max) {
				maxCrossStack.clear();
				maxCrossStack.add(v.getElement());
				max = size;
			}
			else if(size == max) {
				maxCrossStack.add(v.getElement());
			}
		}
	}

	public void calculateTotal(MyNode v, int size) {
		size += v.getCost();
		if(v.getChildren().size() > 0) {
			for(int i=0;i<v.getChildren().size();i++) {
				calculateTotal((MyNode)v.getChildren().get(i), size);
			}
		}
		else {
			total += size;
		}
	}
}


```

## 자료구조 MidTerm 3_2번 문제 복습

### MyNode.java

```java
package mid3_2;

import java.util.ArrayList;

public class MyNode {
	private MyNode parent;
	private ArrayList children;
	private int cost;
	private Object element;

	public MyNode(MyNode parent, int cost, Object element) {
		this.parent = parent;
		this.cost = cost;
		this.element = element;
		this.children = new ArrayList();
	}

	public MyNode getParent() {
		return parent;
	}

	public void setParent(MyNode parent) {
		this.parent = parent;
	}

	public ArrayList getChildren() {
		return children;
	}

	public void setChildren(ArrayList children) {
		this.children = children;
	}

	public int getCost() {
		return cost;
	}

	public void setCost(int cost) {
		this.cost = cost;
	}

	public Object getElement() {
		return element;
	}

	public void setElement(Object element) {
		this.element = element;
	}
}

```

### MyTree.java

```java
package mid3_2;

import java.util.ArrayList;

public class MyTree {
	private MyNode root;
	private ArrayList al_cost;
	private ArrayList al_junction;

	public MyTree() {
		this.root = null;
		this.al_cost = new ArrayList();
		this.al_junction = new ArrayList();
	}
	public MyTree(int cost, Object element) {
		this.root = new MyNode(null, cost, element);
	}

	public MyNode root() {
		return this.root;
	}

	public MyNode addChild(MyNode v, int cost, Object element) {
		MyNode newNode = new MyNode(v, cost, element);
		v.getChildren().add(newNode);
		return newNode;
	}

	public MyNode getRoot() {
		return this.root;
	}

	public ArrayList get_cost_list() {
		return this.al_cost;
	}

	public ArrayList get_junction_list() {
		return this.al_junction;
	}


	public MyNode addRoot(int cost, Object name) {
		MyNode temp = this.root;
		MyNode newRoot = new MyNode(null, cost, name);
		this.root = newRoot;
		return temp;

	}

	public MyNode addNode(MyNode where, int cost, Object name) {
		MyNode newNode = new MyNode(where, cost, name);
		where.getChildren().add(newNode);
		return newNode;
	}

	public void calAllCost(MyNode v) {

		if(v.getChildren().isEmpty()) {
			// external node
			int cost_sum = 0;
			MyNode temp = v;

			while(temp.getParent() != null) {
				cost_sum += temp.getCost();
				temp = temp.getParent();
			}

			MyNode newNode = new MyNode(null, cost_sum, v.getElement());
			al_cost.add(newNode);
//			System.out.println("v : " + v.getElement() + ", cost_sum : " + cost_sum);
		}

		for(int i=0; i<v.getChildren().size(); i++) {
			calAllCost((MyNode)v.getChildren().get(i));
		}
	}

	public void calAllJunction(MyNode v) {

		if(v.getChildren().isEmpty()) {
			// external node
			int junction_cnt = 0;
			MyNode temp = v;

			while(temp.getParent() != null) {
				junction_cnt += 1;
				temp = temp.getParent();
			}

			MyNode newNode = new MyNode(null, junction_cnt, v.getElement());
			al_junction.add(newNode);
//			System.out.println("v : " + v.getElement() + ", junction_cnt : " + junction_cnt);
		}

		for(int i=0; i<v.getChildren().size(); i++) {
			calAllJunction((MyNode)v.getChildren().get(i));
		}

	}


	public int calAllCostSum(MyNode d) {
		int sum = 0;

		for(int i=0; i<d.getChildren().size(); i++) {
			sum += calAllCostSum((MyNode)d.getChildren().get(i));
		}

		return sum + d.getCost();

	}
}

```

### Mid3.java

```java
package mid3_2;

import java.util.ArrayList;

public class Mid3 {

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		System.out.println("------------------pr1------------------");
		MyTree mt = new MyTree();
		mt.addRoot(0, "root");

		MyNode l1 = mt.addNode(mt.getRoot(), 20, "junction");
		MyNode l2 = mt.addNode(mt.getRoot(), 10, "junction");
		MyNode l3 = mt.addNode(mt.getRoot(), 30, "junction");
		MyNode l4 = mt.addNode(mt.getRoot(), 10, "junction");
		MyNode l5 = mt.addNode(mt.getRoot(), 20, "junction");

		mt.addNode(l1, 20, "P");
		MyNode l1_1 = mt.addNode(l1, 10, "junction");
		MyNode l1_2 = mt.addNode(l1, 10, "junction");
		mt.addNode(l1_1, 10, "A");
		mt.addNode(l1_1, 10, "B");
		MyNode l1_2_1 = mt.addNode(l1_2, 10, "junction");
		mt.addNode(l1_2, 30, "D");
		mt.addNode(l1_2_1, 20, "C");

		MyNode l2_1 = mt.addNode(l2, 10, "junction");
		mt.addNode(l2_1, 30, "E");
		mt.addNode(l2_1, 30, "F");
		mt.addNode(l2_1, 20, "G");

		mt.addNode(l3, 30, "H");

		mt.addNode(l4, 30, "I");
		MyNode l4_1 = mt.addNode(l4, 20, "junction");
		mt.addNode(l4_1, 30, "J");

		MyNode l5_1 = mt.addNode(l5, 20, "junction");
		mt.addNode(l5_1, 30, "K");
		mt.addNode(l5_1, 20, "L");
		mt.addNode(l5, 30, "M");
		MyNode l5_2 = mt.addNode(l5, 30, "junction");
		mt.addNode(l5_2, 10, "N");
		mt.addNode(l5, 20, "O");

		System.out.println("------------------pr2------------------");

		mt.calAllCost(mt.getRoot());
		int max = 0;
		ArrayList max_result = new ArrayList();
		int min = 0;
		ArrayList min_result = new ArrayList();

		// sort
		for(int i=0; i<mt.get_cost_list().size(); i++) {
			MyNode temp =  (MyNode)mt.get_cost_list().get(i);
			int temp_cost = temp.getCost();

			if(i == 0) {
				// init
				max = temp.getCost();
				min = temp.getCost();
			}

			if(temp_cost > max) {
				max_result.clear();
				max = temp_cost;
				max_result.add(temp);
			}
			else if(temp_cost == max) {
				max_result.add(temp);
			}

			if(temp_cost < min) {
				min_result.clear();
				max = temp_cost;
				max_result.add(temp);
			}
			else if(temp_cost == min) {
				min_result.add(temp);
			}
		}


		// print
		System.out.print("Max total cost : ");
		for(int i=0; i<max_result.size(); i++) {
			MyNode temp = (MyNode)max_result.get(i);
			System.out.print(temp.getElement() + " ");
		}
		System.out.println();
		System.out.print("Min total cost : ");
		for(int i=0; i<min_result.size(); i++) {
			MyNode temp = (MyNode)min_result.get(i);
			System.out.print(temp.getElement() + " ");
		}

		System.out.println();
		System.out.println("------------------pr3------------------");

		mt.calAllJunction(mt.getRoot());

		max = 0;
		max_result.clear();
		min = 0;
		min_result.clear();

		// sort
		for(int i=0; i<mt.get_junction_list().size(); i++) {
			MyNode temp = (MyNode)mt.get_junction_list().get(i);
			int temp_cost = temp.getCost(); // cost is junction count

			if(i==0) {
				// init
				max = temp.getCost();
				min = temp.getCost();
			}

			if(temp_cost > max) {
				max_result.clear();
				max = temp_cost;
				max_result.add(temp);
			}
			else if(temp_cost == max) {
				max_result.add(temp);
			}

			if(temp_cost < min) {
				min_result.clear();
				max = temp_cost;
				max_result.add(temp);
			}
			else if(temp_cost == min) {
				min_result.add(temp);
			}
		}

		// print
		System.out.print("Max total junction : ");
		for(int i=0; i<max_result.size(); i++) {
			MyNode temp = (MyNode)max_result.get(i);
			System.out.print(temp.getElement() + " ");
		}
		System.out.println();
		System.out.print("Min total junction : ");
		for(int i=0; i<min_result.size(); i++) {
			MyNode temp = (MyNode)min_result.get(i);
			System.out.print(temp.getElement() + " ");
		}

		System.out.println();

		System.out.println("------------------pr4------------------");

		int total_cost = 0;
		for(int i=0; i<mt.get_cost_list().size(); i++) {
			MyNode temp =  (MyNode)mt.get_cost_list().get(i);
			total_cost += temp.getCost();
		}
		System.out.println("total cost : " + total_cost);


	}

}

```

---

하영국 교수님 자바 수업
