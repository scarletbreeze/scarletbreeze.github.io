---
layout: post
title: (자료구조)Heap
categories: [data]
excerpt: ' '
comments: false
share: false
tags: data
date: 2019-05-02
---

## Heaps(Complete binary trees)

1.  prioirty Queue 시간 복잡도 계산해보면 insertion, select 모두 n^2
2.  insertion, remove 하는데 n time이 소요된다.
3.  조금 더 빨리 할 수 없나?
4.  힙이라는 자료 구조 이용하면 insert하고 remove를 logn time에 할 수 있다.

### heap data Structure

- 2가지 조건 만족
- Complete binary tree property : 왼쪽부터 오른쪽으로 차곡차곡 쌓아가는 모양. from left to right,
- Heap-order property : 부모노드의 키값이 자신의 키값 보다 작다.

### Complete binary Tree

- tree에서 가장 중요한 노드 -> root node
- lastNode도 root노드 만큼 중요

### Heap-order property

- 아래로 내려갈 수록 부모노드의 키값은 자식 보다 작아야한다
- 가장 작은 키는 Root
- Reverse heap -> 가장 큰 값이 루트에

### Height of a Heap

- 힙의 크기가 h라면, h는 항상 logn 이다.

### Complete Binary Tree operations

- 임의의 노드 추가, 삭제 불가.
- `node add(Object e)` : adds a new last node
- `Object remove()` : revmoses the alst node

### The Heap and the Other Tree Data Structures

![No Image](/assets/posts/20190502/1.png)

- Tree <- Binary Tree <- Complete Binary Tree <- Heap
- 힙도 일종의 트리다.
- 객체지향적 관점에서 보면 상속 관계

### Implementation of a PQ with a Heap

- 키값이 가장 작은, 즉 우선순위가 가장 높은 노드가 루트에 위치
- 힙에 데이터를 저장하고 루트에 있는 값을 항상 가져오면 PQ 구현 가능

### Insertion Into a Heap

1. Add a new last node (heap의 add operation 사용)
2. up-heap bubbling Algorithm . key를 확인해서 노드를 위로 올려준다

### Up-heap Bubbling

- heap-order를 지켜주는 것
- 부모 노드와 자식 노드 key 비교
- logn time

### Removal from a Heap

1. 루트노드와 라스트 노드를 바꿔준다.
2. 라스트 노드 제거
3. 루트에 있는 노드의 heap-order를 맞춰준다 -> down-heap bubbling

### Down-heap bubbling

- 루트에 있는 key를 아래의 leaf node와 비교하며 순서를 맞춰줌
- 왼쪽? 오른쪽 중 작은 쪽으로 가야한다. 그게 좋다.

### Updating the Last Node

- 라스트 노드를 찾는 방법

1. 이전에 삭제된 노드에서 출발한다.
2. 삭제된 노드가 있던 서브트리가, 오른쪽에 올 때까지 위로 올라간다
3. 루트일 때는 왼쪽으로 한번 간다. 그리고 계속 오른쪽으로 간다.
4. ※ 왼쪽 끝에 도달했을 경우, 바로 이전 레벨의 오른쪽으로 간다.

### Analysis of Heap

- insert : O(log n) = locating new last node: O(log n) + adding last node O(1) + up-heap bubbling : O(log n)

- removeMin : O(log n) = deleting last node: O(1) + down-heap bubbling: O(log n) + updating last node : O(log n)

- ※ removeMin의 경우 updating last node, 즉 last node를 바꿔주는 데 걸리는 시간을 말한다. (last node를 찾아가야 하니까.)

## Heap sort

- 힙을 이용해서 정렬
- 힙을 가지고 PQ를 만들었다면 n번 insert, n번 remove -> 토탈 nlog n time
- 두 개의 키 값을 비교해서 정렬하는 방식 -> 아무리 빨라도 nlog n 보다 빠를 수 없다.
- ※ radix sort -> n time. 그러나 항상 쓸 수는 없다.

## Array-Based Heap

---

하영국 교수님 자바 수업
