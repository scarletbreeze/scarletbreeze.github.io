---

title:  컴퓨터구조론 (chapter1_성능)
tag: class 

---

## 1.5 프로세서와 메모리 생산기술
트랜지스터 : 전기로 제어되는 온/오프 스위치
집적회로 : 수십, 수백 개의 트랜지스터를 칩 하나에 집적시킨 것

실리콘 : 반도체 천연 원소
반도체 : 전기가 잘 통하지 않는 물질

특수한 화학 처리를 거쳐 불순물을 첨가하면 실리콘의 작은 부분을 다음 세 가지 중 하나로 바꿀 수 있다.
*	전기의 양도체(초소형 구리나 알루미늄 전선)
*	전기 절연체(플라스틱 피복이나 유리 같은)
*	조건에 따라 도체가 되기도 하고 절연체가 되기도 하는 물질(스위치) -> 트랜지스터는 여기에 속함

집적회로의 가격
다이 원가 = 웨이퍼당 가격 / 웨이퍼당 다이의 수 x 수율

웨이퍼당 다이의 수 = 웨이퍼의 면적 / 다이의 면적

수율 = 1 / (1 + (면적당 결합의 수 x 다이면적/2))²

## 1.6 성능
성능의 정의 
*	컴퓨터 사용자 개인의 입장 -> 응답시간 , 즉 실행시간이 중요
*	데이터 센터 관리자 -> 처리량, 대역폭(일정한 시간 동안 처리하는 작업의 양)이 중요


**" X가 Y보다 n배 빠르다" -> 성능x/성능y = 실행시간 y / 실행시간 x = n **

*	벽시계 시간, 응답시간, 경과시간 -> 한 작업을 끝내는데 필요한 전체시간
*	CPU 실행시간, CPU 시간 -> 특정 작업의 실행을 위해 CPU가 소비한 실제시간 
	*	사용자 CPU 시간 (실제로 사용자 프로그램 실행에 소요된 시간)
	*	시스템 CPU 시간 (운영체제가 이 프로그램을 위한 작업을 소비하기 위해 실행한 시간)

논의의 일관성을 위해 다른 부하가 없는 시스템에서의 경과시간으로 계산 -> 시스템 성능
사용자 CPU가 계산한 것을 - CPU 성능

* 프로그램의 CPU 실행시간 = 프로그램 CPU 클럭사이클 수 x 클럭 사이클 기간
	= 프로그램 CPU 클럭 사이클 수 / 클럭 속도
    

※ 참고자료

|  <center>Decimal term</center> |  <center>Abbreviation</center> |  <center>value</center> |
|:--------|:--------:|--------:|
|kilobyte | <center> kb </center> |*10³* |
|megabyte | <center>MB </center> |*10⁶* |
|gigabyte| <center>GB </center> |*10⁹* |
|terabyte| <center>TB </center> |*10¹²* |

예제 A에 필요한 클럭 사이클 수 구하기
cpu 시간 a = cpu 클럭 사이클 수 / 클럭 속도A
10초 = CPU 클럭 사이클 수 / 2x 10⁹ 사이클/초

CPU 클럭 사이클 수 a = 10초x2x10⁹사이클/초 = 20x10⁹ 사이클

CPU 시간 B = 1.2xCPU 클럭 사이클 수 A / 클럭속도 B
6초 = 1.2x 20x10⁹ / 6초 = 0.2 x 20 x 10⁹/초 = 4.10⁹사이클 / 초 = 4GHZ

결국 켬퓨터의 B의 클락은 A보다 두배 빨라야 한다.

명령어 성능 
CPU 클럭 사이클 수 = 명령어 수 x 명령어당 평균 출력 사이클 수(CPI: clock cycles per instruction)
※ 명령어 마다 실행시간이 다르므로 CPI는 프로그램이 실행한 모등 명령어에 대해 평균한 값 사용

성능식의 이용
예제 - 컴퓨터 A의 클럭 사이클 시간 250ps, CPI - 2.0
컴퓨터 B의 클ㄹ럭 사이클 시간 500ps, CPI 1.2 
-> 어떤 컴퓨터가 얼마나 더 빠른가?

*	두 컴퓨터가 실행해야 하는 명령어 개수는 서로 같을 것 ->I
*	CPU 클럭 사이클 수 A = I x 2.0
*	CPU 클럭 사이클 수 B = I x 1.2

각 컴퓨터의 CPU 시간을 계산 
CPU 시간 A = CPU 클럭 사이클 수 A x 클럭 사이클 시간 A
= I x 2.0 x 250ps = 500 x IPS 

CPU 시간 B = I x 1.2x 500PS = 600IPS

CPU 성능 A / CPU 성능 B = 실행시간 B / 실행시간 A = 600xIPS / 500x IPS = 1.2

따라서 A가 B보다 1.2배 빠르다 

고전적인 CPU 성능식
성능식을 명령어 개수(instruction count) (프로그램이 실행한 명령어 개수) CPI, 사이클 시간으로 표현하라

CPU 시간 = 명령어 개수 x CPI x 클럭 사이클 시간 (클럭 속도는 클럭 사이클 시간의 역수이므로)
CPU 시간 = 명령어 갯수 x CPI/ 클럭 속도

예제 코드 비교
-	어떤 코드가 얼마나 더 빠르고, 더 많은 명령어?, 각 코드의 CPI는 ?

코드 1 -> 2 + 1 + 2 = 5
코드 2 -> 4 + 1 + 1 = 6

CPU 클럭 사이클 수 1 -> (2x1) + (1x2) + (2x3) = 10사이클

CPU 클럭 사이클 수 2 -> (4x1) + (1x2) + (1x3) = 9사이클

-> 코드 2가 명령어는 하나 더 실행하지만 실행 속도는 더 빠르다 
CPI(1) -> CPU 클럭 사이클 수 1/ 명령어 개수 2 = 10/5  -> 2
CPI(2) -> CPU 클럭 사이클 수 2/ 명령어 갯수 2 =  9 / 6 -> 1.5

총정리 
시간 = 초 / 프로그램 = 명령어 수 / 프로그램 x 클럭 사이클 수 / 명령어 x 초 / 클럭 사이클












--------

참고자료

컴퓨터 구조 및 설계 지음 DAVID A.PATTERSON, JOHN L>HENNESSY 
 

