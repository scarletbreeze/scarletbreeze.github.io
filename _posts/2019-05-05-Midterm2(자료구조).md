---
layout: post
title: (자료구조)Midterm2 복습
categories: [data]
excerpt: ' '
comments: false
share: false
tags: data
date: 2019-05-05
---

## 자료구조 MidTerm 2번 문제 복습

- growable array 구현

## 전체 코드

### MyBinTree.java

```java
package mid2;

public class MyBinTree {
	private Integer[] tree_list;
	private int max_lev_num;
	public MyBinTree() {
		tree_list = null;
		max_lev_num = 0;
	}

	public boolean isEmpty() {
		return tree_list == null;
	}
	public long addRoot(Integer i) {
		if(tree_list == null) {
			tree_list = new Integer[2];
			tree_list[0] = null;
		}
		tree_list[1] = i;
		return 1;
	}

	public long insertLeft(long lev_num, Integer i) {
		if(lev_num*2 > capacity()-1) {
			Integer[] new_tree_list = new Integer[((int)capacity())*2];
			for(int j=0;j<capacity();j++) {
				new_tree_list[j] = tree_list[j];
			}
			tree_list = new_tree_list;
		}
		tree_list[(int) (lev_num*2)] = i;

		if(this.max_lev_num < lev_num*2) {
			this.max_lev_num = (int)lev_num*2;
		}
		return lev_num*2;
	}
	public long insertRight(long lev_num, Integer i) {
		if(lev_num*2+1 > capacity()-1) {
			Integer[] new_tree_list = new Integer[((int)capacity())*2];
			for(int j=0;j<capacity();j++) {
				new_tree_list[j] = tree_list[j];
			}
			tree_list = new_tree_list;
		}
		tree_list[(int) (lev_num*2+1)] = i;

		if(this.max_lev_num < lev_num*2+1) {
			this.max_lev_num = (int)lev_num*2+1;
		}
		return lev_num*2+1;

	}
	public Integer remove(long lev_num) throws NotExternalException {
		if(capacity() > lev_num*2 && (tree_list[(int) (lev_num*2)] != null || tree_list[(int) lev_num*2+1] != null)) {
			throw new NotExternalException("Not external");
		}
		else {
			Integer before_value = tree_list[(int) lev_num];
			tree_list[(int) lev_num] = null;
			if(lev_num == this.max_lev_num) {
				this.max_lev_num = this.get_max_lev_num();

				if((int)(Math.log(lev_num)/Math.log(2)) > (int)(Math.log(this.max_lev_num)/Math.log(2))) {
					Integer[] new_tree_list = new Integer[((int)capacity())/2];
					for(int j=0;j<capacity()/2;j++) {
						new_tree_list[j] = tree_list[j];
					}
					tree_list = new_tree_list;
				}
			}
			return before_value;
		}
	}
	public long capacity() {
		return tree_list.length;
	}

	public void printTree() {
		int depth = 0;
		int line = 1;

		for(int i=1;i<capacity();i++) {
			if(line == i) {
				line *= 2;
				System.out.println();
				System.out.print("Lv."+depth + ": ");
				depth++;
			}
			if(tree_list[i] == null) {
				System.out.print("X ");
			}
			else {
				System.out.print(tree_list[i] + " ");
			}

		}
	}
	public int get_max_lev_num() {

		for(int i=this.tree_list.length-1;i>=0;i--) {
			if(this.tree_list[i] != null) {
				return i;
			}
		}
		return 0;
	}
	class NotExternalException extends Exception {
		public NotExternalException(String str) {
			super(str);
		}
	}
}

```

### Mid2.java

```java
package mid2;

public class Mid2 {

	public static void main(String[] args) throws Exception {
		// TODO Auto-generated method stub

		MyBinTree mbt = new MyBinTree();
		mbt.addRoot(10);
		mbt.printTree();
		System.out.println();

		mbt.insertLeft(1, 20);
		mbt.insertRight(1, 30);
		mbt.printTree();
		System.out.println();

		mbt.insertLeft(2, 40);
		mbt.insertRight(2, 50);
		mbt.insertLeft(3, 60);
		mbt.insertRight(3, 70);
		mbt.printTree();
		System.out.println();

		mbt.insertLeft(5, 80);
		mbt.insertRight(5, 90);
		mbt.printTree();
		System.out.println();
		System.out.println();

		System.out.println("-----------------remove test-----------------");

		/*
		 * this part remove test, u can test each part by marking '//' the other part
		 * and check ExternalException is working (remove '//' in test 1, 4 part)
		 *
		 * ex.
		 * if u want to test 1 part, marking '//' to other part(2, 3, 4 ~ )
		 *
		 * if u have tested all parts, MUST submit them by ORIGINAL CODE(test 1, 4 part need '//')
		 */

		// test 1 part - check ExternalException
		// mbt.remove(3);

		// test 2 part - check remove & shrink
		mbt.remove(10);
		mbt.printTree();
		System.out.println();

		mbt.remove(11);
		mbt.printTree();
		System.out.println();

		// test 3 part - check remove
		mbt.remove(4);
		mbt.printTree();
		System.out.println();

		mbt.remove(5);
		mbt.printTree();
		System.out.println();

		mbt.remove(6);
		mbt.printTree();
		System.out.println();

		mbt.remove(2);
		mbt.printTree();
		System.out.println();

		// test 4 part - check ExternalException
		// mbt.remove(3);

		// test 5 part - check remove & shrink
		mbt.remove(7);
		mbt.printTree();
		System.out.println();



	}

}

```

---

하영국 교수님 자바 수업

```

```
